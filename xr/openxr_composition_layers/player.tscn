[gd_scene load_steps=8 format=3 uid="uid://1qyohq8rvgkf"]

[ext_resource type="PackedScene" uid="uid://cl6m21y2uldtf" path="res://pointer.tscn" id="1_r868a"]
[ext_resource type="Shader" path="res://pointer.gdshader" id="2_erhfu"]
[ext_resource type="Script" path="res://handle_pointers.gd" id="3_ge8iq"]
[ext_resource type="PackedScene" uid="uid://cenb0bfok13vx" path="res://ui.tscn" id="4_1i3dv"]

[sub_resource type="SphereMesh" id="SphereMesh_078nk"]
radius = 0.02
height = 0.04

[sub_resource type="ShaderMaterial" id="ShaderMaterial_orqdv"]
resource_local_to_scene = true
resource_name = "Left hand pointer material"
render_priority = 0
shader = ExtResource("2_erhfu")
shader_parameter/color = Color(1, 0, 0, 0.5)
shader_parameter/energy = 1.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_7l6s0"]
resource_local_to_scene = true
resource_name = "Right hand pointer material"
render_priority = 0
shader = ExtResource("2_erhfu")
shader_parameter/color = Color(1, 0, 0, 0.5)
shader_parameter/energy = 1.0

[node name="XROrigin3D" type="XROrigin3D"]
current = true

[node name="XRCamera3D" type="XRCamera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, 0)
current = true

[node name="LeftHand" type="XRController3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 1, -0.5)
tracker = &"left_hand"
pose = &"aim"
show_when_tracked = true

[node name="HandMesh" type="MeshInstance3D" parent="LeftHand"]
mesh = SubResource("SphereMesh_078nk")

[node name="Pointer" parent="LeftHand" instance=ExtResource("1_r868a")]
visible = false
material_override = SubResource("ShaderMaterial_orqdv")

[node name="RightHand" type="XRController3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 1, -0.5)
tracker = &"right_hand"
pose = &"aim"
show_when_tracked = true

[node name="HandMesh" type="MeshInstance3D" parent="RightHand"]
mesh = SubResource("SphereMesh_078nk")

[node name="Pointer" parent="RightHand" instance=ExtResource("1_r868a")]
material_override = SubResource("ShaderMaterial_7l6s0")

[node name="OpenXRCompositionLayerEquirect" type="OpenXRCompositionLayerEquirect" parent="." node_paths=PackedStringArray("layer_viewport", "controller")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)
layer_viewport = NodePath("../UIViewport")
alpha_blend = true
radius = 2.0
upper_vertical_angle = 0.436332
lower_vertical_angle = 0.436332
script = ExtResource("3_ge8iq")
controller = NodePath("../RightHand")

[node name="UIViewport" type="SubViewport" parent="."]
disable_3d = true
transparent_bg = true
size = Vector2i(1024, 512)
render_target_update_mode = 4

[node name="UI" parent="UIViewport" instance=ExtResource("4_1i3dv")]
